"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var order_1 = require("../api/order");
Page({
    data: {
        motto: '点击 “编译” 以构建',
        userInfo: {},
        hasUserInfo: false,
        canIUse: wx.canIUse('button.open-type.getUserInfo'),
        info: {},
        pics: [],
        status: '',
        id: '',
        token: ''
    },
    onLoad: function (options) {
        var that = this;
        wx.getStorage({
            key: 'token',
            success: function (res) {
                that.setData({
                    token: res.data
                }, function () {
                    that.getDetail(that.data.token, options.id);
                });
            }
        });
        this.setData({
            status: options.status,
            id: options.id
        });
    },
    getDetail: function (token, id) {
        var _this = this;
        order_1.orderDetail(token, id).then(function (res) {
            _this.setData({
                info: res.data,
                pics: res.data.picture
            });
        });
    },
    faHuo: function () {
        wx.navigateTo({
            url: '../post/post?id=' + this.data.id
        });
    },
    goChild: function (e) {
        wx.navigateTo({
            url: '../childOrder/childOrder?title=' + e.currentTarget.dataset.title + '&note=' + e.currentTarget.dataset.note + '&imei=' + e.currentTarget.dataset.imei + '&level=' + e.currentTarget.dataset.level + '&code=' + e.currentTarget.dataset.code + '&price=' + e.currentTarget.dataset.price
        });
    },
    jieshou: function (e) {
        order_1.confirmOrder(this.data.token, e.currentTarget.dataset.id, '1').then(function (res) {
            if (res.code == 1) {
                wx.navigateBack({
                    delta: 1
                });
            }
        });
    },
    fouren: function (e) {
        order_1.confirmOrder(this.data.token, e.currentTarget.dataset.id, '2').then(function (res) {
            if (res.code == 1) {
                wx.navigateBack({
                    delta: 1
                });
            }
        });
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2FpdC1wb3N0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsid2FpdC1wb3N0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBRUEsc0NBQXVEO0FBRXZELElBQUksQ0FBQztJQUNKLElBQUksRUFBRTtRQUNMLEtBQUssRUFBRSxhQUFhO1FBQ3BCLFFBQVEsRUFBRSxFQUFFO1FBQ1osV0FBVyxFQUFFLEtBQUs7UUFDbEIsT0FBTyxFQUFFLEVBQUUsQ0FBQyxPQUFPLENBQUMsOEJBQThCLENBQUM7UUFDakQsSUFBSSxFQUFDLEVBQUU7UUFDUCxJQUFJLEVBQUMsRUFBRTtRQUNQLE1BQU0sRUFBQyxFQUFFO1FBQ1QsRUFBRSxFQUFDLEVBQUU7UUFDTCxLQUFLLEVBQUUsRUFBRTtLQUNYO0lBQ0QsTUFBTSxFQUFOLFVBQU8sT0FBVztRQUNmLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQztRQUNsQixFQUFFLENBQUMsVUFBVSxDQUFDO1lBQ1osR0FBRyxFQUFFLE9BQU87WUFDWixPQUFPLEVBQVAsVUFBUSxHQUFHO2dCQUNULElBQUksQ0FBQyxPQUFRLENBQUM7b0JBQ1osS0FBSyxFQUFFLEdBQUcsQ0FBQyxJQUFJO2lCQUNoQixFQUFDO29CQUNBLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO2dCQUM5QyxDQUFDLENBQUMsQ0FBQTtZQUNKLENBQUM7U0FDRixDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsT0FBUSxDQUFDO1lBQ1osTUFBTSxFQUFDLE9BQU8sQ0FBQyxNQUFNO1lBQ3JCLEVBQUUsRUFBQyxPQUFPLENBQUMsRUFBRTtTQUNkLENBQUMsQ0FBQTtJQUNKLENBQUM7SUFDRCxTQUFTLEVBQVQsVUFBVSxLQUFTLEVBQUMsRUFBUztRQUE3QixpQkFTQztRQVJDLG1CQUFXLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FDM0IsVUFBQSxHQUFHO1lBQ0QsS0FBSSxDQUFDLE9BQVEsQ0FBQztnQkFDWixJQUFJLEVBQUMsR0FBRyxDQUFDLElBQUk7Z0JBQ2IsSUFBSSxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTzthQUN2QixDQUFDLENBQUE7UUFDSixDQUFDLENBQ0YsQ0FBQTtJQUNELENBQUM7SUFFRCxLQUFLO1FBQ0gsRUFBRSxDQUFDLFVBQVUsQ0FBQztZQUNaLEdBQUcsRUFBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUU7U0FDdEMsQ0FBQyxDQUFBO0lBQ0osQ0FBQztJQUVELE9BQU8sRUFBUCxVQUFRLENBQUs7UUFDWCxFQUFFLENBQUMsVUFBVSxDQUFDO1lBQ1osR0FBRyxFQUFFLGlDQUFpQyxHQUFHLENBQUMsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLEtBQUssR0FBRyxRQUFRLEdBQUcsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsSUFBSSxHQUFHLFFBQVEsR0FBRyxDQUFDLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEdBQUcsU0FBUyxHQUFHLENBQUMsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLEtBQUssR0FBRyxRQUFRLEdBQUcsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsSUFBSSxHQUFHLFNBQVMsR0FBRyxDQUFDLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxLQUFLO1NBQzdSLENBQUMsQ0FBQTtJQUNKLENBQUM7SUFFRCxPQUFPLEVBQVAsVUFBUSxDQUFLO1FBQ1gsb0JBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUEsR0FBRztZQUNyRSxJQUFHLEdBQUcsQ0FBQyxJQUFJLElBQUUsQ0FBQyxFQUFDO2dCQUNiLEVBQUUsQ0FBQyxZQUFZLENBQUM7b0JBQ2QsS0FBSyxFQUFFLENBQUM7aUJBQ1QsQ0FBQyxDQUFBO2FBQ0g7UUFDSCxDQUFDLENBQUMsQ0FBQTtJQUNKLENBQUM7SUFDRCxNQUFNLEVBQU4sVUFBTyxDQUFLO1FBQ1Ysb0JBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUEsR0FBRztZQUNyRSxJQUFJLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxFQUFFO2dCQUNqQixFQUFFLENBQUMsWUFBWSxDQUFDO29CQUNkLEtBQUssRUFBRSxDQUFDO2lCQUNULENBQUMsQ0FBQTthQUNIO1FBQ0gsQ0FBQyxDQUFDLENBQUE7SUFDSixDQUFDO0NBQ0YsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiLy9pbmRleC5qc1xyXG4vL+iOt+WPluW6lOeUqOWunuS+i1xyXG5pbXBvcnQgeyBvcmRlckRldGFpbCwgY29uZmlybU9yZGVyfSBmcm9tICcuLi9hcGkvb3JkZXInXHJcblxyXG5QYWdlKHtcclxuXHRkYXRhOiB7XHJcblx0XHRtb3R0bzogJ+eCueWHuyDigJznvJbor5HigJ0g5Lul5p6E5bu6JyxcclxuXHRcdHVzZXJJbmZvOiB7fSxcclxuXHRcdGhhc1VzZXJJbmZvOiBmYWxzZSxcclxuXHRcdGNhbklVc2U6IHd4LmNhbklVc2UoJ2J1dHRvbi5vcGVuLXR5cGUuZ2V0VXNlckluZm8nKSxcclxuICAgIGluZm86e30sXHJcbiAgICBwaWNzOltdLFxyXG4gICAgc3RhdHVzOicnLFxyXG4gICAgaWQ6JycsXHJcbiAgICB0b2tlbjogJydcclxuXHR9LFxyXG5cdG9uTG9hZChvcHRpb25zOmFueSkge1xyXG4gICAgY29uc3QgdGhhdCA9IHRoaXM7XHJcbiAgICB3eC5nZXRTdG9yYWdlKHtcclxuICAgICAga2V5OiAndG9rZW4nLFxyXG4gICAgICBzdWNjZXNzKHJlcykge1xyXG4gICAgICAgIHRoYXQuc2V0RGF0YSEoe1xyXG4gICAgICAgICAgdG9rZW46IHJlcy5kYXRhXHJcbiAgICAgICAgfSwoKSA9PntcclxuICAgICAgICAgIHRoYXQuZ2V0RGV0YWlsKHRoYXQuZGF0YS50b2tlbiwgb3B0aW9ucy5pZCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICB0aGlzLnNldERhdGEhKHtcclxuICAgICAgc3RhdHVzOm9wdGlvbnMuc3RhdHVzLFxyXG4gICAgICBpZDpvcHRpb25zLmlkXHJcbiAgICB9KVxyXG4gIH0sXHJcbiAgZ2V0RGV0YWlsKHRva2VuOmFueSxpZDpzdHJpbmcpe1xyXG4gICAgb3JkZXJEZXRhaWwodG9rZW4sIGlkKS50aGVuKFxyXG4gICAgcmVzID0+IHtcclxuICAgICAgdGhpcy5zZXREYXRhISh7XHJcbiAgICAgICAgaW5mbzpyZXMuZGF0YSxcclxuICAgICAgICBwaWNzOiByZXMuZGF0YS5waWN0dXJlXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgKVxyXG4gIH0sXHJcbiAgLy8g5Y+R6LSnXHJcbiAgZmFIdW8oKXtcclxuICAgIHd4Lm5hdmlnYXRlVG8oe1xyXG4gICAgICB1cmw6Jy4uL3Bvc3QvcG9zdD9pZD0nICsgdGhpcy5kYXRhLmlkXHJcbiAgICB9KVxyXG4gIH0sXHJcbiAgLy8g5a2Q6K6i5Y2VXHJcbiAgZ29DaGlsZChlOmFueSl7XHJcbiAgICB3eC5uYXZpZ2F0ZVRvKHtcclxuICAgICAgdXJsOiAnLi4vY2hpbGRPcmRlci9jaGlsZE9yZGVyP3RpdGxlPScgKyBlLmN1cnJlbnRUYXJnZXQuZGF0YXNldC50aXRsZSArICcmbm90ZT0nICsgZS5jdXJyZW50VGFyZ2V0LmRhdGFzZXQubm90ZSArICcmaW1laT0nICsgZS5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuaW1laSArICcmbGV2ZWw9JyArIGUuY3VycmVudFRhcmdldC5kYXRhc2V0LmxldmVsICsgJyZjb2RlPScgKyBlLmN1cnJlbnRUYXJnZXQuZGF0YXNldC5jb2RlICsgJyZwcmljZT0nICsgZS5jdXJyZW50VGFyZ2V0LmRhdGFzZXQucHJpY2VcclxuICAgIH0pXHJcbiAgfSxcclxuICAvLyDmjqXlj5fmiqXku7dcclxuICBqaWVzaG91KGU6YW55KXtcclxuICAgIGNvbmZpcm1PcmRlcih0aGlzLmRhdGEudG9rZW4sIGUuY3VycmVudFRhcmdldC5kYXRhc2V0LmlkLCAnMScpLnRoZW4ocmVzID0+e1xyXG4gICAgICBpZihyZXMuY29kZT09MSl7XHJcbiAgICAgICAgd3gubmF2aWdhdGVCYWNrKHtcclxuICAgICAgICAgIGRlbHRhOiAxXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9LFxyXG4gIGZvdXJlbihlOmFueSl7XHJcbiAgICBjb25maXJtT3JkZXIodGhpcy5kYXRhLnRva2VuLCBlLmN1cnJlbnRUYXJnZXQuZGF0YXNldC5pZCwgJzInKS50aGVuKHJlcyA9PiB7XHJcbiAgICAgIGlmIChyZXMuY29kZSA9PSAxKSB7XHJcbiAgICAgICAgd3gubmF2aWdhdGVCYWNrKHtcclxuICAgICAgICAgIGRlbHRhOiAxXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcbn0pXHJcbiJdfQ==