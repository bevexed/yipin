"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var order_1 = require("../api/order");
Page({
    data: {
        motto: '点击 “编译” 以构建',
        userInfo: {},
        hasUserInfo: false,
        canIUse: wx.canIUse('button.open-type.getUserInfo'),
        info: {},
        pics: [],
        status: '',
        id: '',
        token: ''
    },
    onLoad: function (options) {
        var that = this;
        wx.getStorage({
            key: 'token',
            success: function (res) {
                that.setData({
                    token: res.data
                }, function () {
                    that.getDetail(that.data.token, options.id);
                });
            }
        });
        this.setData({
            status: options.status,
            id: options.id
        });
    },
    getDetail: function (token, id) {
        var _this = this;
        order_1.orderDetail(token, id).then(function (res) {
            _this.setData({
                info: res.data,
                pics: res.data.picture
            });
        });
    },
    faHuo: function () {
        wx.navigateTo({
            url: '../post/post?id=' + this.data.id
        });
    },
    goChild: function (e) {
        wx.navigateTo({
            url: '../childOrder/childOrder?title=' + e.currentTarget.dataset.title + '&note=' + e.currentTarget.dataset.note + '&imei=' + e.currentTarget.dataset.imei + '&level=' + e.currentTarget.dataset.level + '&code=' + e.currentTarget.dataset.code + '&price=' + e.currentTarget.dataset.price
        });
    },
    jieshou: function (e) {
        order_1.confirmOrder(this.data.token, e.currentTarget.dataset.id, '1').then(function (res) {
            if (res.code == 1) {
                wx.navigateBack({
                    delta: 1
                });
            }
        });
    },
    fouren: function (e) {
        order_1.confirmOrder(this.data.token, e.currentTarget.dataset.id, '2').then(function (res) {
            if (res.code == 1) {
                wx.navigateBack({
                    delta: 1
                });
            }
        });
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2FpdC1wb3N0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsid2FpdC1wb3N0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBRUEsc0NBQXVEO0FBRXZELElBQUksQ0FBQztJQUNKLElBQUksRUFBRTtRQUNMLEtBQUssRUFBRSxhQUFhO1FBQ3BCLFFBQVEsRUFBRSxFQUFFO1FBQ1osV0FBVyxFQUFFLEtBQUs7UUFDbEIsT0FBTyxFQUFFLEVBQUUsQ0FBQyxPQUFPLENBQUMsOEJBQThCLENBQUM7UUFDakQsSUFBSSxFQUFDLEVBQUU7UUFDUCxJQUFJLEVBQUMsRUFBRTtRQUNQLE1BQU0sRUFBQyxFQUFFO1FBQ1QsRUFBRSxFQUFDLEVBQUU7UUFDTCxLQUFLLEVBQUUsRUFBRTtLQUNYO0lBQ0QsTUFBTSxFQUFOLFVBQU8sT0FBVztRQUNmLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQztRQUNsQixFQUFFLENBQUMsVUFBVSxDQUFDO1lBQ1osR0FBRyxFQUFFLE9BQU87WUFDWixPQUFPLEVBQVAsVUFBUSxHQUFHO2dCQUNULElBQUksQ0FBQyxPQUFRLENBQUM7b0JBQ1osS0FBSyxFQUFFLEdBQUcsQ0FBQyxJQUFJO2lCQUNoQixFQUFDO29CQUNBLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO2dCQUM5QyxDQUFDLENBQUMsQ0FBQTtZQUNKLENBQUM7U0FDRixDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsT0FBUSxDQUFDO1lBQ1osTUFBTSxFQUFDLE9BQU8sQ0FBQyxNQUFNO1lBQ3JCLEVBQUUsRUFBQyxPQUFPLENBQUMsRUFBRTtTQUNkLENBQUMsQ0FBQTtJQUNKLENBQUM7SUFDRCxTQUFTLEVBQVQsVUFBVSxLQUFTLEVBQUMsRUFBUztRQUE3QixpQkFTQztRQVJDLG1CQUFXLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FDM0IsVUFBQSxHQUFHO1lBQ0QsS0FBSSxDQUFDLE9BQVEsQ0FBQztnQkFDWixJQUFJLEVBQUMsR0FBRyxDQUFDLElBQUk7Z0JBQ2IsSUFBSSxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTzthQUN2QixDQUFDLENBQUE7UUFDSixDQUFDLENBQ0YsQ0FBQTtJQUNELENBQUM7SUFFRCxLQUFLO1FBQ0gsRUFBRSxDQUFDLFVBQVUsQ0FBQztZQUNaLEdBQUcsRUFBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUU7U0FDdEMsQ0FBQyxDQUFBO0lBQ0osQ0FBQztJQUVELE9BQU8sRUFBUCxVQUFRLENBQUs7UUFDWCxFQUFFLENBQUMsVUFBVSxDQUFDO1lBQ1osR0FBRyxFQUFFLGlDQUFpQyxHQUFHLENBQUMsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLEtBQUssR0FBRyxRQUFRLEdBQUcsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsSUFBSSxHQUFHLFFBQVEsR0FBRyxDQUFDLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEdBQUcsU0FBUyxHQUFHLENBQUMsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLEtBQUssR0FBRyxRQUFRLEdBQUcsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsSUFBSSxHQUFHLFNBQVMsR0FBRyxDQUFDLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxLQUFLO1NBQzdSLENBQUMsQ0FBQTtJQUNKLENBQUM7SUFFRCxPQUFPLEVBQVAsVUFBUSxDQUFLO1FBQ1gsb0JBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUEsR0FBRztZQUNyRSxJQUFHLEdBQUcsQ0FBQyxJQUFJLElBQUUsQ0FBQyxFQUFDO2dCQUNiLEVBQUUsQ0FBQyxZQUFZLENBQUM7b0JBQ2QsS0FBSyxFQUFFLENBQUM7aUJBQ1QsQ0FBQyxDQUFBO2FBQ0g7UUFDSCxDQUFDLENBQUMsQ0FBQTtJQUNKLENBQUM7SUFDRCxNQUFNLEVBQU4sVUFBTyxDQUFLO1FBQ1Ysb0JBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUEsR0FBRztZQUNyRSxJQUFJLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxFQUFFO2dCQUNqQixFQUFFLENBQUMsWUFBWSxDQUFDO29CQUNkLEtBQUssRUFBRSxDQUFDO2lCQUNULENBQUMsQ0FBQTthQUNIO1FBQ0gsQ0FBQyxDQUFDLENBQUE7SUFDSixDQUFDO0NBQ0YsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiLy9pbmRleC5qc1xuLy/ojrflj5blupTnlKjlrp7kvotcbmltcG9ydCB7IG9yZGVyRGV0YWlsLCBjb25maXJtT3JkZXJ9IGZyb20gJy4uL2FwaS9vcmRlcidcblxuUGFnZSh7XG5cdGRhdGE6IHtcblx0XHRtb3R0bzogJ+eCueWHuyDigJznvJbor5HigJ0g5Lul5p6E5bu6Jyxcblx0XHR1c2VySW5mbzoge30sXG5cdFx0aGFzVXNlckluZm86IGZhbHNlLFxuXHRcdGNhbklVc2U6IHd4LmNhbklVc2UoJ2J1dHRvbi5vcGVuLXR5cGUuZ2V0VXNlckluZm8nKSxcbiAgICBpbmZvOnt9LFxuICAgIHBpY3M6W10sXG4gICAgc3RhdHVzOicnLFxuICAgIGlkOicnLFxuICAgIHRva2VuOiAnJ1xuXHR9LFxuXHRvbkxvYWQob3B0aW9uczphbnkpIHtcbiAgICBjb25zdCB0aGF0ID0gdGhpcztcbiAgICB3eC5nZXRTdG9yYWdlKHtcbiAgICAgIGtleTogJ3Rva2VuJyxcbiAgICAgIHN1Y2Nlc3MocmVzKSB7XG4gICAgICAgIHRoYXQuc2V0RGF0YSEoe1xuICAgICAgICAgIHRva2VuOiByZXMuZGF0YVxuICAgICAgICB9LCgpID0+e1xuICAgICAgICAgIHRoYXQuZ2V0RGV0YWlsKHRoYXQuZGF0YS50b2tlbiwgb3B0aW9ucy5pZCk7XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5zZXREYXRhISh7XG4gICAgICBzdGF0dXM6b3B0aW9ucy5zdGF0dXMsXG4gICAgICBpZDpvcHRpb25zLmlkXG4gICAgfSlcbiAgfSxcbiAgZ2V0RGV0YWlsKHRva2VuOmFueSxpZDpzdHJpbmcpe1xuICAgIG9yZGVyRGV0YWlsKHRva2VuLCBpZCkudGhlbihcbiAgICByZXMgPT4ge1xuICAgICAgdGhpcy5zZXREYXRhISh7XG4gICAgICAgIGluZm86cmVzLmRhdGEsXG4gICAgICAgIHBpY3M6IHJlcy5kYXRhLnBpY3R1cmVcbiAgICAgIH0pXG4gICAgfVxuICApXG4gIH0sXG4gIC8vIOWPkei0p1xuICBmYUh1bygpe1xuICAgIHd4Lm5hdmlnYXRlVG8oe1xuICAgICAgdXJsOicuLi9wb3N0L3Bvc3Q/aWQ9JyArIHRoaXMuZGF0YS5pZFxuICAgIH0pXG4gIH0sXG4gIC8vIOWtkOiuouWNlVxuICBnb0NoaWxkKGU6YW55KXtcbiAgICB3eC5uYXZpZ2F0ZVRvKHtcbiAgICAgIHVybDogJy4uL2NoaWxkT3JkZXIvY2hpbGRPcmRlcj90aXRsZT0nICsgZS5jdXJyZW50VGFyZ2V0LmRhdGFzZXQudGl0bGUgKyAnJm5vdGU9JyArIGUuY3VycmVudFRhcmdldC5kYXRhc2V0Lm5vdGUgKyAnJmltZWk9JyArIGUuY3VycmVudFRhcmdldC5kYXRhc2V0LmltZWkgKyAnJmxldmVsPScgKyBlLmN1cnJlbnRUYXJnZXQuZGF0YXNldC5sZXZlbCArICcmY29kZT0nICsgZS5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuY29kZSArICcmcHJpY2U9JyArIGUuY3VycmVudFRhcmdldC5kYXRhc2V0LnByaWNlXG4gICAgfSlcbiAgfSxcbiAgLy8g5o6l5Y+X5oql5Lu3XG4gIGppZXNob3UoZTphbnkpe1xuICAgIGNvbmZpcm1PcmRlcih0aGlzLmRhdGEudG9rZW4sIGUuY3VycmVudFRhcmdldC5kYXRhc2V0LmlkLCAnMScpLnRoZW4ocmVzID0+e1xuICAgICAgaWYocmVzLmNvZGU9PTEpe1xuICAgICAgICB3eC5uYXZpZ2F0ZUJhY2soe1xuICAgICAgICAgIGRlbHRhOiAxXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcbiAgfSxcbiAgZm91cmVuKGU6YW55KXtcbiAgICBjb25maXJtT3JkZXIodGhpcy5kYXRhLnRva2VuLCBlLmN1cnJlbnRUYXJnZXQuZGF0YXNldC5pZCwgJzInKS50aGVuKHJlcyA9PiB7XG4gICAgICBpZiAocmVzLmNvZGUgPT0gMSkge1xuICAgICAgICB3eC5uYXZpZ2F0ZUJhY2soe1xuICAgICAgICAgIGRlbHRhOiAxXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcbiAgfVxufSlcbiJdfQ==